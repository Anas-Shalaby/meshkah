# ğŸ“š Ø¯Ù„ÙŠÙ„ API Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« - Ù…Ø´ÙƒØ§Ø©

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù‡Ø°Ø§ API Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« Ø§Ù„Ù†Ø¨ÙˆÙŠØ© Ù…Ù† Ø®Ù„Ø§Ù„ Ù…ØµØ§Ø¯Ø± Ù…ÙˆØ«ÙˆÙ‚Ø© ÙˆÙ…Ø¹ØªÙ…Ø¯Ø©. ÙŠÙ‚Ø¯Ù… Ø§Ù„Ù†Ø¸Ø§Ù… ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹ Ø¯Ù‚ÙŠÙ‚Ø§Ù‹ Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø¯ÙŠØ« (ØµØ­ÙŠØ­ØŒ Ø­Ø³Ù†ØŒ Ø¶Ø¹ÙŠÙØŒ Ù…ÙˆØ¶ÙˆØ¹) Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØªÙØµÙŠÙ„ÙŠØ© Ø¹Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø± ÙˆØ§Ù„Ø±ÙˆØ§Ø©.

---

## ğŸš€ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

### 1. Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«

- Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª `dorar.net` Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚Ø©
- Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª `sunnah.com` Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©
- Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØªÙØ§ØµÙŠÙ„ Ø¯Ù‚ÙŠÙ‚Ø© Ù„ÙƒÙ„ Ø­Ø¯ÙŠØ«

### 2. ØªØ­Ù„ÙŠÙ„ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«

- **ØµØ­ÙŠØ­**: Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
- **Ø­Ø³Ù†**: Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ø¬ÙŠØ¯ Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„ØªØ­ÙØ¸Ø§Øª
- **Ø¶Ø¹ÙŠÙ**: Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ø°ÙŠ Ù„Ø§ ÙŠÙØ³ØªØ¯Ù„ Ø¨Ù‡
- **Ù…ÙˆØ¶ÙˆØ¹**: Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ù…ÙƒØ°ÙˆØ¨
- **ÙˆØ§Ù‡ÙŠ**: Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ø¶Ø¹ÙŠÙ Ø¬Ø¯Ø§Ù‹
- **Ù‚ÙˆÙŠ**: Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙˆÙŠ Ø§Ù„Ø³Ù†Ø¯

### 3. Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØªÙØµÙŠÙ„ÙŠØ©

- Ø§Ø³Ù… Ø§Ù„Ø±Ø§ÙˆÙŠ
- Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø¯Ø«
- Ø§Ù„Ù…ØµØ¯Ø± (Ø§Ù„ÙƒØªØ§Ø¨)
- Ø±Ù‚Ù… Ø§Ù„Ø­Ø¯ÙŠØ«
- Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø¯ÙŠØ«
- Ø®Ù„Ø§ØµØ© Ø­ÙƒÙ… Ø§Ù„Ù…Ø­Ø¯Ø«
- Ø§Ù„ØªØ®Ø±ÙŠØ¬

---

## ğŸ”— Endpoints Ø§Ù„Ù…ØªØ§Ø­Ø©

### 1. Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«

```http
GET /api/hadith-verification/search?text={Ù†Øµ_Ø§Ù„Ø­Ø¯ÙŠØ«}&source={Ø§Ù„Ù…ØµØ¯Ø±}
```

**Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª:**

- `text` (Ù…Ø·Ù„ÙˆØ¨): Ù†Øµ Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†Ù‡
- `source` (Ø§Ø®ØªÙŠØ§Ø±ÙŠ): Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø§Ù„Ø¨Ø­Ø« ÙÙŠÙ‡ (`dorar` Ø£Ùˆ `sunnah`)

**Ù…Ø«Ø§Ù„:**

```http
GET /api/hadith-verification/search?text=Ø¥Ù†Ù…Ø§ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù†ÙŠØ§Øª&source=dorar
```

**Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©:**

```json
{
  "success": true,
  "data": {
    "dorar": {
      "success": true,
      "data": [
        {
          "hadith": "Ø¥Ù†Ù…Ø§ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù†ÙŠØ§Øª ÙˆØ¥Ù†Ù…Ø§ Ù„ÙƒÙ„ Ø§Ù…Ø±Ø¦ Ù…Ø§ Ù†ÙˆÙ‰",
          "rawi": "Ø¹Ù…Ø± Ø¨Ù† Ø§Ù„Ø®Ø·Ø§Ø¨",
          "muhaddith": "Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ",
          "book": "ØµØ­ÙŠØ­ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ",
          "number": "1",
          "grade": "ØµØ­ÙŠØ­",
          "explainGrade": "Ø¥Ø³Ù†Ø§Ø¯Ù‡ ØµØ­ÙŠØ­",
          "takhrij": "Ø£Ø®Ø±Ø¬Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ",
          "muhaddithId": "123",
          "bookId": "456",
          "sharhId": null,
          "gradeConfidence": "high",
          "source": "dorar"
        }
      ]
    },
    "sunnah": {
      "success": false,
      "data": []
    }
  },
  "metadata": {
    "totalResults": 1,
    "searchTime": "1.2s",
    "sources": ["dorar"]
  }
}
```

### 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ù…Ù† Ø§Ù„Ø­Ø¯ÙŠØ«

```http
POST /api/hadith-verification/verify
```

**Body (JSON):**

```json
{
  "text": "Ù†Øµ Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù†Ù‡"
}
```

**Ù…Ø«Ø§Ù„:**

```json
{
  "text": "Ø¥Ù†Ù…Ø§ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù†ÙŠØ§Øª ÙˆØ¥Ù†Ù…Ø§ Ù„ÙƒÙ„ Ø§Ù…Ø±Ø¦ Ù…Ø§ Ù†ÙˆÙ‰"
}
```

**Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©:**

```json
{
  "success": true,
  "data": {
    "verificationSummary": {
      "primaryGrade": "ØµØ­ÙŠØ­",
      "gradeConfidence": "high",
      "totalMatches": 3,
      "foundInDorar": true,
      "foundInSunnah": false,
      "gradesFound": ["ØµØ­ÙŠØ­"],
      "gradeAnalysis": {
        "status": "ØµØ­ÙŠØ­",
        "message": "Ù‡Ø°Ø§ Ø­Ø¯ÙŠØ« ØµØ­ÙŠØ­ ÙˆÙ…Ø¹ØªÙ…Ø¯",
        "explanation": "Ø§Ù„Ø­Ø¯ÙŠØ« ØµØ­ÙŠØ­ Ø§Ù„Ø³Ù†Ø¯ ÙˆØ§Ù„Ù…ØªÙ†ØŒ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø§Ø³ØªØ¯Ù„Ø§Ù„ Ø¨Ù‡ ÙÙŠ Ø§Ù„Ø£Ø­ÙƒØ§Ù… Ø§Ù„Ø´Ø±Ø¹ÙŠØ©",
        "color": "green",
        "icon": "âœ“"
      }
    },
    "searchResults": {
      "dorar": {
        "success": true,
        "data": [
          {
            "hadith": "Ø¥Ù†Ù…Ø§ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù†ÙŠØ§Øª ÙˆØ¥Ù†Ù…Ø§ Ù„ÙƒÙ„ Ø§Ù…Ø±Ø¦ Ù…Ø§ Ù†ÙˆÙ‰",
            "rawi": "Ø¹Ù…Ø± Ø¨Ù† Ø§Ù„Ø®Ø·Ø§Ø¨",
            "muhaddith": "Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ",
            "book": "ØµØ­ÙŠØ­ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ",
            "number": "1",
            "grade": "ØµØ­ÙŠØ­",
            "explainGrade": "Ø¥Ø³Ù†Ø§Ø¯Ù‡ ØµØ­ÙŠØ­",
            "takhrij": "Ø£Ø®Ø±Ø¬Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ",
            "muhaddithId": "123",
            "bookId": "456",
            "sharhId": null,
            "gradeConfidence": "high",
            "source": "dorar"
          }
        ]
      },
      "sunnah": {
        "success": false,
        "data": []
      }
    }
  }
}
```

---

## ğŸ› ï¸ ÙƒÙŠÙÙŠØ© Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Flutter

### 1. Ø¥Ø¹Ø¯Ø§Ø¯ HTTP Client

```dart
import 'package:http/http.dart' as http;
import 'dart:convert';

class HadithVerificationService {
  static const String baseUrl = 'https://your-api-domain.com/api/hadith-verification';

  static Future<Map<String, dynamic>> searchHadith(String text, {String? source}) async {
    try {
      final uri = Uri.parse('$baseUrl/search')
          .replace(queryParameters: {
            'text': text,
            if (source != null) 'source': source,
          });

      final response = await http.get(uri);

      if (response.statusCode == 200) {
        return json.decode(response.body);
      } else {
        throw Exception('ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø¨Ø­Ø«: ${response.statusCode}');
      }
    } catch (e) {
      throw Exception('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©: $e');
    }
  }

  static Future<Map<String, dynamic>> verifyHadith(String text) async {
    try {
      final uri = Uri.parse('$baseUrl/verify');

      final response = await http.post(
        uri,
        headers: {'Content-Type': 'application/json'},
        body: json.encode({'text': text}),
      );

      if (response.statusCode == 200) {
        return json.decode(response.body);
      } else {
        throw Exception('ÙØ´Ù„ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚: ${response.statusCode}');
      }
    } catch (e) {
      throw Exception('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©: $e');
    }
  }
}
```

### 2. Ø¥Ù†Ø´Ø§Ø¡ Models

```dart
class HadithResult {
  final String hadith;
  final String rawi;
  final String muhaddith;
  final String book;
  final String number;
  final String grade;
  final String explainGrade;
  final String takhrij;
  final String? muhaddithId;
  final String? bookId;
  final String? sharhId;
  final String gradeConfidence;
  final String source;

  HadithResult({
    required this.hadith,
    required this.rawi,
    required this.muhaddith,
    required this.book,
    required this.number,
    required this.grade,
    required this.explainGrade,
    required this.takhrij,
    this.muhaddithId,
    this.bookId,
    this.sharhId,
    required this.gradeConfidence,
    required this.source,
  });

  factory HadithResult.fromJson(Map<String, dynamic> json) {
    return HadithResult(
      hadith: json['hadith'] ?? '',
      rawi: json['rawi'] ?? '',
      muhaddith: json['muhaddith'] ?? '',
      book: json['book'] ?? '',
      number: json['number'] ?? '',
      grade: json['grade'] ?? '',
      explainGrade: json['explainGrade'] ?? '',
      takhrij: json['takhrij'] ?? '',
      muhaddithId: json['muhaddithId'],
      bookId: json['bookId'],
      sharhId: json['sharhId'],
      gradeConfidence: json['gradeConfidence'] ?? 'low',
      source: json['source'] ?? '',
    );
  }
}

class VerificationSummary {
  final String primaryGrade;
  final String gradeConfidence;
  final int totalMatches;
  final bool foundInDorar;
  final bool foundInSunnah;
  final List<String> gradesFound;
  final GradeAnalysis gradeAnalysis;

  VerificationSummary({
    required this.primaryGrade,
    required this.gradeConfidence,
    required this.totalMatches,
    required this.foundInDorar,
    required this.foundInSunnah,
    required this.gradesFound,
    required this.gradeAnalysis,
  });

  factory VerificationSummary.fromJson(Map<String, dynamic> json) {
    return VerificationSummary(
      primaryGrade: json['primaryGrade'] ?? '',
      gradeConfidence: json['gradeConfidence'] ?? 'low',
      totalMatches: json['totalMatches'] ?? 0,
      foundInDorar: json['foundInDorar'] ?? false,
      foundInSunnah: json['foundInSunnah'] ?? false,
      gradesFound: List<String>.from(json['gradesFound'] ?? []),
      gradeAnalysis: GradeAnalysis.fromJson(json['gradeAnalysis'] ?? {}),
    );
  }
}

class GradeAnalysis {
  final String status;
  final String message;
  final String explanation;
  final String color;
  final String icon;

  GradeAnalysis({
    required this.status,
    required this.message,
    required this.explanation,
    required this.color,
    required this.icon,
  });

  factory GradeAnalysis.fromJson(Map<String, dynamic> json) {
    return GradeAnalysis(
      status: json['status'] ?? '',
      message: json['message'] ?? '',
      explanation: json['explanation'] ?? '',
      color: json['color'] ?? 'gray',
      icon: json['icon'] ?? '',
    );
  }
}
```

### 3. Ø§Ø³ØªØ®Ø¯Ø§Ù… API ÙÙŠ UI

```dart
class HadithVerificationPage extends StatefulWidget {
  @override
  _HadithVerificationPageState createState() => _HadithVerificationPageState();
}

class _HadithVerificationPageState extends State<HadithVerificationPage> {
  final TextEditingController _textController = TextEditingController();
  bool _isLoading = false;
  VerificationSummary? _verificationResult;
  List<HadithResult> _searchResults = [];

  Future<void> _verifyHadith() async {
    if (_textController.text.trim().isEmpty) return;

    setState(() {
      _isLoading = true;
    });

    try {
      final result = await HadithVerificationService.verifyHadith(_textController.text.trim());

      if (result['success'] == true) {
        setState(() {
          _verificationResult = VerificationSummary.fromJson(result['data']['verificationSummary']);

          // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«
          _searchResults = [];
          final searchResults = result['data']['searchResults'];

          if (searchResults['dorar']?['success'] == true) {
            _searchResults.addAll(
              (searchResults['dorar']['data'] as List)
                  .map((item) => HadithResult.fromJson(item))
                  .toList()
            );
          }

          if (searchResults['sunnah']?['success'] == true) {
            _searchResults.addAll(
              (searchResults['sunnah']['data'] as List)
                  .map((item) => HadithResult.fromJson(item))
                  .toList()
            );
          }
        });
      } else {
        _showErrorSnackBar('ÙØ´Ù„ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø¯ÙŠØ«');
      }
    } catch (e) {
      _showErrorSnackBar('Ø®Ø·Ø£: $e');
    } finally {
      setState(() {
        _isLoading = false;
      });
    }
  }

  void _showErrorSnackBar(String message) {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(content: Text(message), backgroundColor: Colors.red),
    );
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('ÙØ§Ø­Øµ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«'),
        backgroundColor: Colors.purple,
      ),
      body: Padding(
        padding: EdgeInsets.all(16.0),
        child: Column(
          children: [
            // Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù†Øµ
            TextField(
              controller: _textController,
              decoration: InputDecoration(
                labelText: 'Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ø­Ø¯ÙŠØ«',
                hintText: 'Ù…Ø«Ø§Ù„: Ø¥Ù†Ù…Ø§ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù†ÙŠØ§Øª',
                border: OutlineInputBorder(),
                suffixIcon: IconButton(
                  icon: Icon(Icons.clear),
                  onPressed: () => _textController.clear(),
                ),
              ),
              maxLines: 3,
              maxLength: 500,
            ),

            SizedBox(height: 16),

            // Ø²Ø± Ø§Ù„ØªØ­Ù‚Ù‚
            ElevatedButton(
              onPressed: _isLoading ? null : _verifyHadith,
              style: ElevatedButton.styleFrom(
                backgroundColor: Colors.purple,
                padding: EdgeInsets.symmetric(horizontal: 32, vertical: 16),
              ),
              child: _isLoading
                  ? CircularProgressIndicator(color: Colors.white)
                  : Text('ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø¯ÙŠØ«', style: TextStyle(fontSize: 16)),
            ),

            SizedBox(height: 24),

            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            Expanded(
              child: _verificationResult == null
                  ? Center(
                      child: Text(
                        'Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ø­Ø¯ÙŠØ« ÙˆØ§Ø¶ØºØ· Ø¹Ù„Ù‰ "ØªØ­Ù‚Ù‚"',
                        style: TextStyle(fontSize: 16, color: Colors.grey),
                      ),
                    )
                  : ListView(
                      children: [
                        // Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                        _buildVerificationResult(),

                        SizedBox(height: 16),

                        // Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©
                        _buildSearchResults(),
                      ],
                    ),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildVerificationResult() {
    final analysis = _verificationResult!.gradeAnalysis;

    return Card(
      elevation: 4,
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              'Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªØ­Ù‚Ù‚',
              style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
            ),
            SizedBox(height: 12),

            // Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø¯ÙŠØ«
            Container(
              padding: EdgeInsets.symmetric(horizontal: 16, vertical: 8),
              decoration: BoxDecoration(
                color: _getGradeColor(analysis.color),
                borderRadius: BorderRadius.circular(20),
              ),
              child: Row(
                mainAxisSize: MainAxisSize.min,
                children: [
                  Text(analysis.icon, style: TextStyle(fontSize: 18)),
                  SizedBox(width: 8),
                  Text(
                    analysis.status,
                    style: TextStyle(
                      color: Colors.white,
                      fontWeight: FontWeight.bold,
                      fontSize: 16,
                    ),
                  ),
                ],
              ),
            ),

            SizedBox(height: 12),

            // Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„
            Text(
              analysis.message,
              style: TextStyle(fontSize: 16, fontWeight: FontWeight.w600),
            ),

            SizedBox(height: 8),

            // Ø§Ù„Ø´Ø±Ø­ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ
            Text(
              analysis.explanation,
              style: TextStyle(fontSize: 14, color: Colors.grey[700]),
            ),
          ],
        ),
      ),
    );
  }

  Widget _buildSearchResults() {
    return Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        Text(
          'Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©',
          style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
        ),
        SizedBox(height: 12),

        ..._searchResults.map((result) => Card(
          elevation: 2,
          margin: EdgeInsets.only(bottom: 8),
          child: Padding(
            padding: EdgeInsets.all(12),
            child: Column(
              crossAxisAlignment: CrossAxisAlignment.start,
              children: [
                // Ù†Øµ Ø§Ù„Ø­Ø¯ÙŠØ«
                Text(
                  result.hadith,
                  style: TextStyle(
                    fontSize: 16,
                    fontWeight: FontWeight.w500,
                    fontFamily: 'Amiri', // Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ø¬Ù…ÙŠÙ„ Ù„Ù„Ø£Ø­Ø§Ø¯ÙŠØ«
                  ),
                ),

                SizedBox(height: 12),

                // Ø§Ù„ØªÙØ§ØµÙŠÙ„
                _buildDetailRow('Ø§Ù„Ø±Ø§ÙˆÙŠ:', result.rawi),
                _buildDetailRow('Ø§Ù„Ù…Ø­Ø¯Ø«:', result.muhaddith),
                _buildDetailRow('Ø§Ù„Ù…ØµØ¯Ø±:', result.book),
                _buildDetailRow('Ø§Ù„Ø±Ù‚Ù…:', result.number),
                _buildDetailRow('Ø§Ù„Ø¯Ø±Ø¬Ø©:', result.grade),

                if (result.explainGrade.isNotEmpty)
                  _buildDetailRow('Ø­ÙƒÙ… Ø§Ù„Ù…Ø­Ø¯Ø«:', result.explainGrade),

                if (result.takhrij.isNotEmpty)
                  _buildDetailRow('Ø§Ù„ØªØ®Ø±ÙŠØ¬:', result.takhrij),
              ],
            ),
          ),
        )).toList(),
      ],
    );
  }

  Widget _buildDetailRow(String label, String value) {
    return Padding(
      padding: EdgeInsets.only(bottom: 4),
      child: Row(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          SizedBox(
            width: 80,
            child: Text(
              label,
              style: TextStyle(
                fontWeight: FontWeight.w600,
                color: Colors.grey[700],
              ),
            ),
          ),
          Expanded(
            child: Text(
              value,
              style: TextStyle(fontSize: 14),
            ),
          ),
        ],
      ),
    );
  }

  Color _getGradeColor(String colorName) {
    switch (colorName) {
      case 'green':
        return Colors.green;
      case 'blue':
        return Colors.blue;
      case 'yellow':
        return Colors.orange;
      case 'red':
        return Colors.red;
      default:
        return Colors.grey;
    }
  }
}
```

---

## ğŸ“± Ù†ØµØ§Ø¦Ø­ Ù„Ù„ØªÙ†ÙÙŠØ° ÙÙŠ Flutter

### 1. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©

```dart
// Ø§Ø³ØªØ®Ø¯Ø§Ù… Provider Ø£Ùˆ Bloc Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©
class HadithVerificationProvider extends ChangeNotifier {
  bool _isLoading = false;
  VerificationSummary? _verificationResult;
  List<HadithResult> _searchResults = [];
  String? _errorMessage;

  // Getters
  bool get isLoading => _isLoading;
  VerificationSummary? get verificationResult => _verificationResult;
  List<HadithResult> get searchResults => _searchResults;
  String? get errorMessage => _errorMessage;

  Future<void> verifyHadith(String text) async {
    _isLoading = true;
    _errorMessage = null;
    notifyListeners();

    try {
      final result = await HadithVerificationService.verifyHadith(text);
      // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬...
    } catch (e) {
      _errorMessage = e.toString();
    } finally {
      _isLoading = false;
      notifyListeners();
    }
  }
}
```

### 2. Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ

```dart
import 'package:shared_preferences/shared_preferences.dart';

class HadithStorage {
  static const String _key = 'hadith_history';

  static Future<void> saveHadithHistory(List<HadithResult> hadiths) async {
    final prefs = await SharedPreferences.getInstance();
    final jsonList = hadiths.map((h) => h.toJson()).toList();
    await prefs.setString(_key, json.encode(jsonList));
  }

  static Future<List<HadithResult>> getHadithHistory() async {
    final prefs = await SharedPreferences.getInstance();
    final jsonString = prefs.getString(_key);
    if (jsonString != null) {
      final jsonList = json.decode(jsonString) as List;
      return jsonList.map((item) => HadithResult.fromJson(item)).toList();
    }
    return [];
  }
}
```

### 3. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

```dart
class ApiException implements Exception {
  final String message;
  final int? statusCode;

  ApiException(this.message, [this.statusCode]);

  @override
  String toString() => 'API Error: $message (Status: $statusCode)';
}

// ÙÙŠ Ø§Ù„Ù€ service
static Future<Map<String, dynamic>> verifyHadith(String text) async {
  try {
    final response = await http.post(/* ... */);

    switch (response.statusCode) {
      case 200:
        return json.decode(response.body);
      case 400:
        throw ApiException('Ø·Ù„Ø¨ ØºÙŠØ± ØµØ­ÙŠØ­', 400);
      case 404:
        throw ApiException('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø¯ÙŠØ«', 404);
      case 500:
        throw ApiException('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù…', 500);
      default:
        throw ApiException('Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹: ${response.statusCode}', response.statusCode);
    }
  } on SocketException {
    throw ApiException('Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª');
  } on TimeoutException {
    throw ApiException('Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø·Ù„Ø¨');
  }
}
```

---

## ğŸ¨ ØªØµÙ…ÙŠÙ… UI Ù…ØªÙ‚Ø¯Ù…

### 1. Ø§Ø³ØªØ®Ø¯Ø§Ù… Themes

```dart
class AppTheme {
  static ThemeData get lightTheme {
    return ThemeData(
      primarySwatch: Colors.purple,
      fontFamily: 'Cairo', // Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ø¬Ù…ÙŠÙ„
      appBarTheme: AppBarTheme(
        backgroundColor: Colors.purple,
        titleTextStyle: TextStyle(
          color: Colors.white,
          fontSize: 20,
          fontWeight: FontWeight.bold,
        ),
      ),
      elevatedButtonTheme: ElevatedButtonThemeData(
        style: ElevatedButton.styleFrom(
          backgroundColor: Colors.purple,
          foregroundColor: Colors.white,
          padding: EdgeInsets.symmetric(horizontal: 24, vertical: 12),
          shape: RoundedRectangleBorder(
            borderRadius: BorderRadius.circular(8),
          ),
        ),
      ),
    );
  }
}
```

### 2. Animations

```dart
class FadeInAnimation extends StatefulWidget {
  final Widget child;
  final Duration duration;

  const FadeInAnimation({
    Key? key,
    required this.child,
    this.duration = const Duration(milliseconds: 500),
  }) : super(key: key);

  @override
  _FadeInAnimationState createState() => _FadeInAnimationState();
}

class _FadeInAnimationState extends State<FadeInAnimation>
    with SingleTickerProviderStateMixin {
  late AnimationController _controller;
  late Animation<double> _animation;

  @override
  void initState() {
    super.initState();
    _controller = AnimationController(
      duration: widget.duration,
      vsync: this,
    );
    _animation = CurvedAnimation(
      parent: _controller,
      curve: Curves.easeInOut,
    );
    _controller.forward();
  }

  @override
  void dispose() {
    _controller.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return FadeTransition(
      opacity: _animation,
      child: widget.child,
    );
  }
}
```

---

## ğŸ”’ Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡

### 1. Rate Limiting

```dart
class RateLimiter {
  static final Map<String, DateTime> _requests = {};
  static const Duration _limitDuration = Duration(minutes: 1);
  static const int _maxRequests = 10;

  static bool canMakeRequest(String userId) {
    final now = DateTime.now();
    final userRequests = _requests.entries
        .where((entry) => entry.key.startsWith(userId))
        .toList();

    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
    userRequests.removeWhere((entry) =>
        now.difference(entry.value) > _limitDuration);

    return userRequests.length < _maxRequests;
  }

  static void recordRequest(String userId) {
    final key = '${userId}_${DateTime.now().millisecondsSinceEpoch}';
    _requests[key] = DateTime.now();
  }
}
```

### 2. Caching

```dart
class ApiCache {
  static final Map<String, CacheEntry> _cache = {};
  static const Duration _cacheDuration = Duration(minutes: 30);

  static Map<String, dynamic>? get(String key) {
    final entry = _cache[key];
    if (entry != null &&
        DateTime.now().difference(entry.timestamp) < _cacheDuration) {
      return entry.data;
    }
    _cache.remove(key);
    return null;
  }

  static void set(String key, Map<String, dynamic> data) {
    _cache[key] = CacheEntry(
      data: data,
      timestamp: DateTime.now(),
    );
  }
}

class CacheEntry {
  final Map<String, dynamic> data;
  final DateTime timestamp;

  CacheEntry({required this.data, required this.timestamp});
}
```

---

## ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### 1. Analytics

```dart
class AnalyticsService {
  static Future<void> trackHadithVerification(String text, String result) async {
    // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
    await FirebaseAnalytics.instance.logEvent(
      name: 'hadith_verification',
      parameters: {
        'text_length': text.length,
        'result_grade': result,
        'timestamp': DateTime.now().millisecondsSinceEpoch,
      },
    );
  }
}
```

---

## ğŸš€ Ù†ØµØ§Ø¦Ø­ Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ØªØ·ÙˆÙŠØ±

### 1. Ø§Ø®ØªØ¨Ø§Ø± API

```dart
// Unit Tests
void main() {
  group('HadithVerificationService', () {
    test('should return valid response for correct hadith', () async {
      final result = await HadithVerificationService.verifyHadith(
        'Ø¥Ù†Ù…Ø§ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù†ÙŠØ§Øª'
      );

      expect(result['success'], true);
      expect(result['data']['verificationSummary'], isNotNull);
    });
  });
}
```

### 2. Offline Support

```dart
class OfflineHadithService {
  static Future<bool> isOnline() async {
    try {
      final result = await InternetAddress.lookup('google.com');
      return result.isNotEmpty && result[0].rawAddress.isNotEmpty;
    } on SocketException catch (_) {
      return false;
    }
  }

  static Future<Map<String, dynamic>?> getCachedResult(String text) async {
    if (await isOnline()) return null;

    final cacheKey = _generateCacheKey(text);
    return ApiCache.get(cacheKey);
  }
}
```

---

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ

Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø£Ùˆ Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„ØªÙƒØ§Ù…Ù„:

- **Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ**: dev@meshkah.com
- **Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…**: @MeshkahDev
- **GitHub**: github.com/meshkah/hadith-verification-api

---

## ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

1. **Ø§Ù„Ù…ØµØ§Ø¯Ø±**: API ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ù…ØµØ§Ø¯Ø± Ù…ÙˆØ«ÙˆÙ‚Ø© Ù…Ø«Ù„ `dorar.net` Ùˆ `sunnah.com`
2. **Ø§Ù„Ø£Ø¯Ø§Ø¡**: ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… caching Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
3. **Ø§Ù„Ø£Ù…Ø§Ù†**: Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ø­Ù…ÙŠØ© Ø¨Ù€ rate limiting
4. **Ø§Ù„ØªØ­Ø¯ÙŠØ«**: API ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ø¯ÙˆØ±ÙŠØ§Ù‹ Ù„Ø¶Ù…Ø§Ù† Ø¯Ù‚Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
5. **Ø§Ù„Ø¯Ø¹Ù…**: ÙŠØ¯Ø¹Ù… API Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„

---

**ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ø§ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© ÙØ±ÙŠÙ‚ ØªØ·ÙˆÙŠØ± Ù…Ø´ÙƒØ§Ø©** ğŸš€

_Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${new Date().toLocaleDateString('ar-SA')}_
